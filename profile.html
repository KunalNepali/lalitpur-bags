<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>User Profile - Lalitpur Bags</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
  <!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light sticky-top">
  <div class="container-fluid">
    <a class="navbar-brand" href="index.html">
      <img src="images/LALITPUR-BAGS.png" alt="Lalitpur Bags" width="50"> Lalitpur Bags
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
      <span class="navbar-toggler-icon"></span>
    </button>
      
      <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
          <li class="nav-item"><a class="nav-link" href="signup.html">Signup</a></li>
          <li class="nav-item"><a class="nav-link" href="profile.html">Profile</a></li>
          <li class="nav-item"><a class="nav-link" href="repair.html">Repair</a></li>
          <li class="nav-item"><a class="nav-link" href="arrivals.html">New Arrivals</a></li>
          <li class="nav-item"><a class="nav-link" href="order.html">Order</a></li>
                  <li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" href="#" id="moreMenu" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ‚ò∞
  </a>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="moreMenu">
    <li><a class="dropdown-item" href="index.html">Home</a></li>
    <li><a class="dropdown-item" href="about-us.html">About Us</a></li>
    <li><a class="dropdown-item" href="contact.html">Contact</a></li>
    <li><a class="dropdown-item" href="cart.html">Cart</a></li>
    <li><a class="dropdown-item" href="cost.html">Cost</a></li>
  </ul>
</li>

        </ul>
      </div>
    </div>
  </nav>

  <div class="container py-5">
    <h2 class="text-center mb-4">Your Profile</h2>

    <div class="card mb-4">
      <div class="card-header">Repair History</div>
      <ul class="list-group list-group-flush" id="repairHistory">
        <!-- Repair history items will be dynamically inserted here -->
      </ul>
    </div>

    <div class="card mb-4">
      <div class="card-header">Order History</div>
      <ul class="list-group list-group-flush" id="orderHistory">
        <!-- Order history items will be dynamically inserted here -->
      </ul>
    </div>
  </div>

  <script>
    // Simulate user session and fetch from PHP endpoint
    fetch('php/get-profile.php')
      .then(response => response.json())
      .then(data => {
        const repairList = document.getElementById('repairHistory');
        const orderList = document.getElementById('orderHistory');

        data.repairs.forEach(item => {
          const li = document.createElement('li');
          li.className = 'list-group-item';
          li.innerHTML = `<strong>${item.bag_type}</strong> - ${item.issue_type}, Date: ${item.calendar_date}, Location: ${item.location}`;
          repairList.appendChild(li);
        });

        data.orders.forEach(order => {
          const li = document.createElement('li');
          li.className = 'list-group-item';
          li.textContent = `${order.item} x${order.quantity} - Rs. ${order.total_price}`;
          orderList.appendChild(li);
        });
      })
      .catch(err => {
        console.error('Error fetching profile data:', err);
      });
  </script>
   <!-- Footer -->
  <footer class="bg-dark text-light mt-5 p-4">
    <div class="container">
      <p>üìû +977 9860357158 | +977 9841821074</p>
      <p>üìß Email: kunalnepali123456@gmail.com</p>
      <p>üîê 
  <a href="#" class="text-light" data-bs-toggle="modal" data-bs-target="#privacyModal">Privacy Policy</a> |
  <a href="#" class="text-light" data-bs-toggle="modal" data-bs-target="#termsModal">Terms and Conditions</a> |
  <a href="#" class="text-light" data-bs-toggle="modal" data-bs-target="#feedbackModal">Feedback</a>
</p>
      <p>üí≥ Payment Partners: eSewa, Khalti</p>
      <p>üì± Follow us: <a href="#" class="text-light">Facebook</a> | <a href="#" class="text-light">Instagram</a></p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/script.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Privacy Policy Modal -->
<div class="modal fade" id="privacyModal" tabindex="-1" aria-labelledby="privacyLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="privacyLabel">Privacy Policy</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <p>We collect only necessary personal information to process orders and provide services. This includes your name, contact info, and delivery address. Your data is never sold or shared, except for order fulfillment or when required by law.</p>
        <p>You can request deletion of your data at any time by emailing <a href="mailto:kunalnepali123456@gmail.com">kunalnepali123456@gmail.com</a>.</p>
      </div>
    </div>
  </div>
</div>

<!-- Terms Modal -->
<div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="termsLabel">Terms & Conditions</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <ul>
          <li>All bookings must be confirmed via our site with correct information.</li>
          <li>Images must be appropriate and related to the product.</li>
          <li>Orders will be confirmed via email/phone before processing.</li>
          <li>No cancellations after confirmation.</li>
          <li>We are not responsible for courier delays.</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-labelledby="feedbackLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <form action="php/submit-feedback.php" method="POST">
        <div class="modal-header">
          <h5 class="modal-title" id="feedbackLabel">Feedback</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="name" class="form-label">Name (optional)</label>
            <input type="text" class="form-control" name="name" />
          </div>
          <div class="mb-3">
            <label for="email" class="form-label">Email (optional)</label>
            <input type="email" class="form-control" name="email" />
          </div>
          <div class="mb-3">
            <label for="message" class="form-label">Your Feedback</label>
            <textarea class="form-control" name="message" rows="4" required></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary w-100">Submit Feedback</button>
        </div>
      </form>
    </div>
  </div>
</div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
